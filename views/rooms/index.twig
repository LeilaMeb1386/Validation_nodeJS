{% extends 'rooms/layout.twig' %}

{% block body %}

<button id="btnLogout" class="btn btn-secondary my-2">Déconnexion</button>

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createRoomModal">Nouveau tchat</button>
{# <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#updateModal">Modifier ou supprimer une room</button> #}

<div class="container">
  <div class="row">
  {% for room in rooms %}
    <div class="card" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title">{{ room.name }}</h5>
      </div>
      <div class="card-body">
    <h5 class="card-title">{{ room.owner }}</h5>
    <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    </div>
      <div class="card-footer divbtn">

        <button data-attribute="{{ room._id }}" id="{{room._id}}" class="card-link btn btn-primary deleteRoom">
        Delete Room
        </button>
        <button id="{{room._id}}" class="card-link btn btn-primary updateModal monbtn" data-toggle="modal" data-target="#updateModal">
         Update Room
        </button>
      </div>
    </div>
  {% endfor %}
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="createRoomModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form class="" id="createRoom" action="/rooms" method="post">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Nouvelle room</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="name">Nom </label>
            <input type="text" class="form-control" id="nomroom" name="name"/>
          </div>
          <fieldset class="form-group">
            <div class="row">
              <div class="col-sm-8">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="status" id="public" value="public" checked required>
                  <label class="form-check-label" for="privé">
                    public
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="status" id="private" value="private" required>
                  <label class="form-check-label" for="private">
                    Private
                  </label>
                </div>
              </div>
            </div>
        </fieldset>
        <div class="form-group">
          <label for="users">Liste Users</label>
          <select multiple name="users" class="form-control" id="users">
            <option value="1">User 1</option>
            <option value="2">User 2</option>
            <option value="3">User 3</option>
            <option value="4">User 4</option>
          </select>
        </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
          <input type="submit" class="btn btn-primary" value="Créer">
        </div>
      </form>
    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form class="" id="editRoom" action="/rooms" method="post">
        <div class="modal-header">
          <h5 class="modal-title" id="updateModalLabel">Modifier une room</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <input type="hidden" class="form-control" id="updatedRommID" name="id"/>
        <div class="modal-body">
        <div class="modal-body">
          <div class="form-group">
            <label for="name">Nom </label>
            <input type="text" class="form-control" id="nomroom" name="name"/>
          </div>
          <fieldset class="form-group">
            <div class="row">
              <div class="col-sm-8">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="status" id="public" value="public" checked required>
                  <label class="form-check-label" for="privé">
                    public
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="status" id="private" value="private" required>
                  <label class="form-check-label" for="private">
                    Private
                  </label>
                </div>
              </div>
            </div>
        </fieldset>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
          {# <button type="button" class="btn btn-primary">Sauvegarder</button> #}
          <input type="submit" class="btn btn-primary" value="Sauvegarder">
        </div>
      </form>
    </div>
  </div>
</div>



{% endblock %}
{% block scripts %}
  <script type="text/javascript" src="/javascripts/login.js"></script>
{% endblock %}
